<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="generator" content="Publish.jl" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="" />
    <title>DLPipelines.jl</title>
    <link rel="stylesheet" href="..&#x2F;normalize.css" />
    <link rel="stylesheet" href="..&#x2F;tabulator_simple.min.css" />
    <link rel="stylesheet" href="..&#x2F;lorenzo.css" />
    <script src="..&#x2F;versions.js"></script>
    <script src="..&#x2F;lunr.js"></script>
    <script src="..&#x2F;highlight.min.js"></script>
    <script src="..&#x2F;tabulator.min.js"></script>
    <script src="..&#x2F;julia.min.js"></script>
    <script src="..&#x2F;julia-repl.min.js"></script>
    <script src="..&#x2F;publish.js"></script>
    
<link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lora:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lora:wght@500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lora:ital@1&family=Source+Sans+Pro:wght@700&display=swap" rel="stylesheet">
    <!-- 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
        -->

</head>
<body>
    <div class="menu">
        <svg id="menu-toggler" title="Contents" onclick="toggleIndexPage();" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z" fill="currentColor" /><path d="M2 12.0322C2 11.4799 2.44772 11.0322 3 11.0322H21C21.5523 11.0322 22 11.4799 22 12.0322C22 12.5845 21.5523 13.0322 21 13.0322H3C2.44772 13.0322 2 12.5845 2 12.0322Z" fill="currentColor" /><path d="M3 17.0645C2.44772 17.0645 2 17.5122 2 18.0645C2 18.6167 2.44772 19.0645 3 19.0645H21C21.5523 19.0645 22 18.6167 22 18.0645C22 17.5122 21.5523 17.0645 21 17.0645H3Z" fill="currentColor" /></svg>
        <input id="search-input" placeholder="Search">
        <select id="version-selector"></select>
    </div>
    <main id="page"><article><p>See <a href="../docs/introduction.html">introduction</a> and <a href="../docs/interfaces/core.html">core interface</a>.</p>
<pre><code class="language-julia"></code></pre>
<h1 id="types"><a href="#types" class="anchor"></a>Types</h1>
<p>We start off by defining the abstract types that will be used for dispatch.</p>
<h3 id="task"><a href="#task" class="anchor"></a><a href="../docstrings/DLPipelines.Task.html"><code>Task</code></a></h3>
<pre><code class="language-julia">&quot;&quot;&quot;
    abstract type Task

Represents a mapping from high-level types
`I` to `T`.

See also [`Method`](#).
&quot;&quot;&quot;
abstract type Task end
</code></pre>
<h3 id="method"><a href="#method" class="anchor"></a><a href="../docstrings/DLPipelines.Method.html"><code>Method</code></a></h3>
<pre><code class="language-julia">&quot;&quot;&quot;
    abstract type Method{Task}

Represents a concrete approach for solving a
[`Task`](#).

See [core interface](../docs/interfaces/core.md) for more on
how to implement custom `Method`s
&quot;&quot;&quot;
abstract type Method{Task} end
</code></pre>
<h3 id="context-and-concrete-types"><a href="#context-and-concrete-types" class="anchor"></a><a href="../docstrings/DLPipelines.Context.html"><code>Context</code></a> and concrete types</h3>
<pre><code class="language-julia">&quot;&quot;&quot;
    abstract type Context

Represents a context in which a data transformation
is made. This allows using dispatching for varying behavior,
for example, to apply augmentations only during training or
use non-destructive cropping during inference.

Available contexts are [`Training`](#), [`Validation`](#) and
[`Inference`](#).
&quot;&quot;&quot;
abstract type Context end

struct Training &lt;: Context end
struct Validation &lt;: Context end
struct Inference &lt;: Context end
</code></pre>
<h1 id="core-interface"><a href="#core-interface" class="anchor"></a>Core interface</h1>
<p>Next the core interface is defined:</p>
<ul>
<li><a href="../docstrings/DLPipelines.encode.html"><code>encode</code></a></li>
<li><a href="../docstrings/DLPipelines.encodeinput.html"><code>encodeinput</code></a></li>
<li><a href="../docstrings/DLPipelines.encodetarget.html"><code>encodetarget</code></a></li>
<li><a href="../docstrings/DLPipelines.decodeŷ.html"><code>decodeŷ</code></a></li>
<li><a href="../docstrings/DLPipelines.decodey.html"><code>decodey</code></a></li>
<li><a href="../docstrings/DLPipelines.shouldbatch.html"><code>shouldbatch</code></a></li>
</ul>
<pre><code class="language-julia">&quot;&quot;&quot;
    encodeinput(method, context, input) -&gt; x

Encode `input` into a representation that a model for `method`
takes as input.

See also [`Method`](#), [`encode`](#), and [`encodetarget`](#).
&quot;&quot;&quot;
function encodeinput end

&quot;&quot;&quot;
    encodetarget(task, target; augment = false, inference = false) -&gt; y

Encode `target` into a representation that a model for `task` outputs.
&quot;&quot;&quot;
function encodetarget end

&quot;&quot;&quot;
    encode(method, context, sample) -&gt; (x, y)
    encode(method, context, (input, target)) -&gt; (x, y)

Encode a `sample` containing both input and target .

If `sample` is a `Tuple` of (input, target), the default behavior is to
pass them to [`encodeinput`](#) and [`encodetarget`](#)

## Remarks

- *When should I implement `encode` vs. `encodeinput` and `encodetarget`?*

  In simple cases like image classification we can encode the inputs and
  targets separately and you should prefer `encodeinput` and `encodetarget`.
  The default implementation for `encode` when given an `(input, target)`-tuple
  is to delegate to `encodeinput` and `encodetarget`.

  In other cases like semantic segmentation, however, we want to apply
  stochastic augmentations to both image and segmentation mask. In that
  case you need to encode both at the same time using `encode`.

  Another situation where `encode` is needed is when `sample` is not a
  tuple of `(input, target)`, for example a `Dict` that includes additional
  information. `encode` still needs to return an `(x, y)`-tuple, though.
&quot;&quot;&quot;
encode(method, context, (input, target)::Tuple) =
    (encodeinput(method, context, input), encodetarget(method, context, target))


&quot;&quot;&quot;
    decodeŷ(method, context, ŷ) -&gt; target

Decodes a model output into a target.
&quot;&quot;&quot;
function decodeŷ end


&quot;&quot;&quot;
    decodey(method, context, y) -&gt; target

Decodes an encoded target back into a target.

Defaults to using [`decodeŷ`](#)
&quot;&quot;&quot;
decodey(method, context, y) = decodeŷ(method, context, y)


&quot;&quot;&quot;
    shouldbatch(method) = true

Whether models for `method` take in batches of inputs. Default
is `true`.
&quot;&quot;&quot;
shouldbatch(method) = true
</code></pre>
<h2 id="inplace-interface"><a href="#inplace-interface" class="anchor"></a>Inplace interface</h2>
<pre><code class="language-julia">encode!(buf, method, context, sample) = encode(method, context, sample)
encodeinput!(buf, method, context, input) = encodeinput(method, context, input)
encodetarget!(buf, method, context, target) = encodetarget(method, context, target)
decodey!(buf, method, context, y) = decodey(method, context, y)
decodeŷ!(buf, method, context, ŷ) = decodeŷ(method, context, ŷ)
</code></pre>
</article>
        <div id="page-navigation">
            <a id="previous-page" title="Previous" href="DLPipelines.html"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.2426 6.34317L14.8284 4.92896L7.75739 12L14.8285 19.0711L16.2427 17.6569L10.5858 12L16.2426 6.34317Z" fill="currentColor" /></svg></a>
            <a id="next-page" title="Next" href="dataset.html"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5858 6.34317L12 4.92896L19.0711 12L12 19.0711L10.5858 17.6569L16.2427 12L10.5858 6.34317Z" fill="currentColor" /></svg></a>
        </div>
    </main>
    <nav id="toc"><h2 id="dlpipelinesjl"><a href="../#dlpipelinesjl" class="anchor"></a>DLPipelines.jl</h2>
<ul>
<li><a href="../README.html">Readme</a></li>
<li><a href="../docs/introduction.html">Introduction</a></li>
<li><a href="../docs/interfaces/overview.html">Interfaces</a>
<ul>
<li><a href="../docs/interfaces/core.html">Core interface</a></li>
</ul>
</li>
<li><a href="../docs/methods/methods.html">Methods</a>
<ul>
<li><a href="../docs/methods/imageclassification.html">Image classification</a></li>
</ul>
</li>
<li><a href="../docs/transforms.html">Transforms</a></li>
<li>Tutorials
<ul>
<li><a href="../docs/tutorials/fluxtraining.html">Using with FluxTraining.jl</a></li>
</ul>
</li>
</ul>
<h3 id="source-code"><a href="../#source-code" class="anchor"></a>Source code</h3>
<ul>
<li><a href="../src/DLPipelines.html"><code>DLPipelines.jl</code></a></li>
<li><a href="../src/task.html"><code>task.jl</code></a></li>
<li><a href="../src/dataset.html"><code>dataset.jl</code></a></li>
<li><code>transforms</code>
<ul>
<li><a href="../src/transforms/spatial.html"><code>spatial.jl</code></a></li>
<li><a href="../src/transforms/imagepreprocessing.html"><code>imagepreprocessing.jl</code></a></li>
</ul>
</li>
<li><code>methods</code>
<ul>
<li><a href="../src/methods/imageclassification.html"><code>imageclassification.jl</code></a></li>
</ul>
</li>
</ul>
<h3 id="tests"><a href="../#tests" class="anchor"></a>Tests</h3>
<ul>
<li><a href="../test/runtests.html"><code>runtests.jl</code></a></li>
</ul>
</nav>
    <footer>
        Built with <a target="_blank" href="https://github.com/MichaelHatherly/Publish.jl">Publish.jl</a> and the <a target="_blank" href="https://julialang.org">Julia Language.</a>
    </footer>
    <script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
